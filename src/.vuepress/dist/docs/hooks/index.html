<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hooks disponibles | PrettyBlocks - Page builder PrestaShop</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="PrettyBlocks - Page builder open source et gratuit pour PrestaShop">
    <meta name="theme-color" content="#5530be">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.89bcc878.css" as="style"><link rel="preload" href="/assets/js/app.736e6486.js" as="script"><link rel="preload" href="/assets/js/2.eeb24f79.js" as="script"><link rel="preload" href="/assets/js/17.5326a0ef.js" as="script"><link rel="prefetch" href="/assets/js/10.b54bb4fd.js"><link rel="prefetch" href="/assets/js/11.e130cabc.js"><link rel="prefetch" href="/assets/js/12.7a5a3c59.js"><link rel="prefetch" href="/assets/js/13.ee932623.js"><link rel="prefetch" href="/assets/js/14.e7473ff6.js"><link rel="prefetch" href="/assets/js/15.1dc71088.js"><link rel="prefetch" href="/assets/js/16.0c780815.js"><link rel="prefetch" href="/assets/js/18.273fe971.js"><link rel="prefetch" href="/assets/js/19.bb8cf868.js"><link rel="prefetch" href="/assets/js/20.ebcc53d6.js"><link rel="prefetch" href="/assets/js/21.13462b48.js"><link rel="prefetch" href="/assets/js/22.a4f5d409.js"><link rel="prefetch" href="/assets/js/3.1d94c184.js"><link rel="prefetch" href="/assets/js/4.cf2b2e47.js"><link rel="prefetch" href="/assets/js/5.6350d1b3.js"><link rel="prefetch" href="/assets/js/6.e86df8f9.js"><link rel="prefetch" href="/assets/js/7.fe8cb8c7.js"><link rel="prefetch" href="/assets/js/8.ee579564.js"><link rel="prefetch" href="/assets/js/9.d36695e5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.89bcc878.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">PrettyBlocks - Page builder PrestaShop</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/get-started/" class="nav-link">
  Get Started
</a></div><div class="nav-item"><a href="/docs/hooks/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Hooks
</a></div><div class="nav-item"><a href="/docs/tpl/" class="nav-link">
  Templating
</a></div><div class="nav-item"><a href="/docs/contribute/" class="nav-link">
  Contribuer
</a></div><div class="nav-item"><a href="https://github.com/PrestaSafe/prettyblocks" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.prestasafe.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PrestaSafe
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/get-started/" class="nav-link">
  Get Started
</a></div><div class="nav-item"><a href="/docs/hooks/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Hooks
</a></div><div class="nav-item"><a href="/docs/tpl/" class="nav-link">
  Templating
</a></div><div class="nav-item"><a href="/docs/contribute/" class="nav-link">
  Contribuer
</a></div><div class="nav-item"><a href="https://github.com/PrestaSafe/prettyblocks" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.prestasafe.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PrestaSafe
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Hooks</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/hooks/" aria-current="page" class="active sidebar-link">Hooks disponibles</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hooks/#register-hooks-actionregisterblock" class="sidebar-link">Register Hooks (ActionRegisterBlock)</a></li><li class="sidebar-sub-header"><a href="/docs/hooks/#register-settings-actionregisterthemesettings" class="sidebar-link">Register Settings (ActionRegisterThemeSettings)</a></li><li class="sidebar-sub-header"><a href="/docs/hooks/#extend-block-beforerendering-blockcode" class="sidebar-link">Extend block (beforeRendering{BlockCode})</a></li><li class="sidebar-sub-header"><a href="/docs/hooks/#extends-templates-actionextendblocktemplate-blockcode" class="sidebar-link">Extends Templates (actionExtendBlockTemplate{BlockCode})</a></li><li class="sidebar-sub-header"><a href="/docs/hooks/#sass-compilation-actionqueuesasscompile" class="sidebar-link">SASS compilation (ActionQueueSassCompile)</a></li></ul></li><li><a href="/docs/tpl/" class="sidebar-link">Templating</a></li><li><a href="/docs/helper/" class="sidebar-link">Helper</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hooks-disponibles"><a href="#hooks-disponibles" class="header-anchor">#</a> Hooks disponibles</h1> <p>Afin d'étendre au mieux les fonctionnalités de <strong>PrettyBlocks</strong>, nous avons implémenté
certains hooks pour faciliter la vie des développeurs.</p> <h2 id="register-hooks-actionregisterblock"><a href="#register-hooks-actionregisterblock" class="header-anchor">#</a> Register Hooks (ActionRegisterBlock)</h2> <p>En greffant votre module sur le hook <strong>ActionRegisterBlock</strong> vous pourrez simplement rajouter vos blocs.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">hookActionRegisterBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$blocks</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token variable">$blocks</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Fake block'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'description'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Description of your block'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'code'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'fake_block'</span><span class="token punctuation">,</span> <span class="token comment">// required must be uniq</span>
        <span class="token string single-quoted-string">'icon'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'StarIcon'</span><span class="token punctuation">,</span> <span class="token comment">// https://heroicons.com V2</span>
        <span class="token string single-quoted-string">'need_reload'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// reload iframe after save</span>
        <span class="token string single-quoted-string">'templates'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'default'</span> <span class="token operator">=&gt;</span>  <span class="token string single-quoted-string">'module:'</span><span class="token operator">.</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token operator">.</span><span class="token string single-quoted-string">'/views/templates/block/default.tpl'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'config'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'fields'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token comment">// ... array of fields</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'repeater'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Element repeated'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'nameFrom'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'field name'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'groups'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token comment">// ... array of fields</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">]</span>

    <span class="token punctuation">]</span>

    <span class="token keyword">return</span> <span class="token variable">$blocks</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="register-settings-actionregisterthemesettings"><a href="#register-settings-actionregisterthemesettings" class="header-anchor">#</a> Register Settings (ActionRegisterThemeSettings)</h2> <p>Le hook <strong>ActionRegisterThemeSettings</strong> vous permettra d'enregistrer des paramètres généraux pour votre thème.
Pour enregistrer des paramètres, vous devez retourner un tableau de <a href="/get-started/fields-available">Champs</a>
Seul le paramètre <code>tab</code> vous permettra d'ajouter votre paramètre dans un tab existant, ou de le créer si il n'existe pas.
ex: <code>'tab' =&gt; 'design'</code> placera le paramètre dans un onglet <code>Design</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">hookActionRegisterThemeSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'settings_name'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'tab'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'design'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'color'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'default'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'#000000'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Change your color'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'select'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'tab'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TEST'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'select'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Select field'</span><span class="token punctuation">,</span> 
            <span class="token comment">// 'default' =&gt; '2',</span>
            <span class="token string single-quoted-string">'choices'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'1'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Value 1'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'2'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Value 2'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'3'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Value 3'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'radio_group'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'tab'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'TEST'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'radio_group'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Choose a value'</span><span class="token punctuation">,</span> 
            <span class="token string single-quoted-string">'default'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'3'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'choices'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'1'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Radio 1'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'2'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Radio 2'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'3'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Radio 3'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'settings_name_radio'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'tab'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'design'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'radio'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'default'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Add this option'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'settings_name_textarea'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'tab'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Custom tabs !'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'textarea'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'default'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Hello you !'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'type textarea'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'new_logo'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'tab'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'design'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'fileupload'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'File upload'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'path'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'$/fakemodule/views/images/test/'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'default'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token punctuation">[</span><span class="token string single-quoted-string">'url'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'https://via.placeholder.com/141x180'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="extend-block-beforerendering-blockcode"><a href="#extend-block-beforerendering-blockcode" class="header-anchor">#</a> Extend block (beforeRendering{BlockCode})</h2> <p>Afin d'étendre les données de votre block, vous pouvez rajouter des données via ce hook:
Exemple pour un block aillant pour code: <code>block_category_products</code>
un hook est exécuté avec le code du block en camelCase:  <code>hookbeforeRenderingblockCategoryProducts</code></p> <p>Vous pouvez utiliser toutes les données de votre bloc dans le <code>$params['block']</code></p> <div class="language-php extra-class"><pre class="language-php"><code> <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">hookbeforeRenderingClassicFeaturedProduct</span><span class="token punctuation">(</span><span class="token variable">$params</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$settings</span> <span class="token operator">=</span> <span class="token variable">$params</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'block'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'settings'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$settings</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$settings</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'category'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token variable">$id_category</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword type-casting">int</span><span class="token punctuation">)</span><span class="token variable">$settings</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'category'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'products'</span> <span class="token operator">=&gt;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getProducts</span><span class="token punctuation">(</span><span class="token variable">$id_category</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'products'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

</code></pre></div><p>Toutes les clés retournées pourront être utilisées dans la variable <code>$block.extra</code> sur le front office.
Résulat de notre exemple: <code>$block.extra.products</code> retournera un tableau de produits.</p> <h2 id="extends-templates-actionextendblocktemplate-blockcode"><a href="#extends-templates-actionextendblocktemplate-blockcode" class="header-anchor">#</a> Extends Templates (actionExtendBlockTemplate{BlockCode})</h2> <p>Pourquoi devoir refaire un bloc ou un module afin de modifier un simple affichage ?
Un module peut rajouter un ou plusieurs templates en fonction d'un bloc.</p> <p>Comme pour l'exemple précédent, pour un bloc aillant le code <code>block_category_products</code>
vous pouvez rajouter un ou plusieurs templates pour ce dernier:</p> <div class="language-php extra-class"><pre class="language-php"><code> <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">hookactionExtendBlockTemplateBlockCategoryProducts</span><span class="token punctuation">(</span><span class="token variable">$params</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'override1'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'module:'</span><span class="token operator">.</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token operator">.</span><span class="token string single-quoted-string">'/views/templates/blocks/template1.tpl'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'override2'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'module:'</span><span class="token operator">.</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token operator">.</span><span class="token string single-quoted-string">'/views/templates/blocks/template2.tpl'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="sass-compilation-actionqueuesasscompile"><a href="#sass-compilation-actionqueuesasscompile" class="header-anchor">#</a> SASS compilation (ActionQueueSassCompile)</h2> <p>Prettyblocks vous mâche votre travail de développeur, grâce à ce hook, vous pouvez
compiler vos styles SASS ou CSS. <br>
Notre helper utilise la librairie <a href="https://scssphp.github.io/scssphp/" target="_blank" rel="noopener noreferrer">scssphp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Voici un exemple:</p> <div class="language-php extra-class"><pre class="language-php"><code> <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">hookActionQueueSassCompile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'import_path'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'$/themes/classic/_dev/css/'</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'entries'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'$/modules/'</span><span class="token operator">.</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token operator">.</span><span class="token string single-quoted-string">'/views/css/vars.scss'</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'out'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'$/themes/classic/_dev/css/helpers/_custom_vars.scss'</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token variable">$theme</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'import_path'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'$/themes/classic/_dev/css/'</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'entries'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'$/themes/classic/_dev/css/theme.scss'</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'out'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'$/themes/classic/assets/css/theme.css'</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>


        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token variable">$vars</span><span class="token punctuation">,</span> <span class="token variable">$theme</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>Afin de mieux l'exploiter, vous pouvez simplement utiliser les <code>Themes settings</code> dans un fichier <code>scss</code> ou <code>css</code> et <strong>Prettyblocks</strong> se charge du reste.
Il n'est donc pas nécessaire de compiler avec NPM ou yarn, cela dit, pour les plus fan de ces technologies,
vous pouvez utiliser ces outils sans perturber le fonctionnement du builder 😃
<code>import_path</code>: ajoute un chemin d'import (CF lib <a href="https://scssphp.github.io/scssphp/" target="_blank" rel="noopener noreferrer">scssphp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)
<code>entries</code>: les fichiers à mettre en entrée (pas de limite de nombre)
<code>out</code>: le fichier qui sera compilé en sortie</p> <p>Ex: avec la variable <code>$sass</code></p> <div class="language-php extra-class"><pre class="language-php"><code>
    <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'import_path'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'$/themes/classic/_dev/css/'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'entries'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'$/modules/'</span><span class="token operator">.</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token operator">.</span><span class="token string single-quoted-string">'/views/css/vars.scss'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'out'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'$/themes/classic/_dev/css/helpers/_custom_vars.scss'</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><p>Contenu du fichier <code>'$/modules/'.$this-&gt;name.'/views/css/vars.scss'</code></p> <div class="language-scss extra-class"><pre class="language-scss"><code>    <span class="token property"><span class="token variable">$gray-900</span></span><span class="token punctuation">:</span>  <span class="token variable">$SETTINGS_bg_dark</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
    <span class="token property"><span class="token variable">$icon-color-top-bar</span></span><span class="token punctuation">:</span> <span class="token variable">$SETTINGS_icon_top_bar_color</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
    <span class="token property"><span class="token variable">$primary</span></span><span class="token punctuation">:</span> <span class="token variable">$SETTINGS_primary_color</span> <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
    ...

</code></pre></div><p>Fichier compilé par <strong>PrettyBlocks</strong> <code>$/themes/classic/_dev/css/helpers/_custom_vars.scss</code></p> <div class="language-scss extra-class"><pre class="language-scss"><code>    <span class="token property"><span class="token variable">$gray-900</span></span><span class="token punctuation">:</span>  #373f50 <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
    <span class="token property"><span class="token variable">$icon-color-top-bar</span></span><span class="token punctuation">:</span> #fe696a <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
    <span class="token property"><span class="token variable">$primary</span></span><span class="token punctuation">:</span> #fe696a <span class="token statement keyword">!default</span><span class="token punctuation">;</span>
   ...

</code></pre></div><p><code>$SETTINGS_bg_dark</code> a pris la valeur du <code>Theme Settings</code> qui a pour nom <code>bg_dark</code>
il est obligatoire d'utiliser <code>$SETTINGS_</code> + <code>{nom_du_settings}</code> afin de faire matcher la valeur.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs/tpl/">
        Templating
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.736e6486.js" defer></script><script src="/assets/js/2.eeb24f79.js" defer></script><script src="/assets/js/17.5326a0ef.js" defer></script>
  </body>
</html>
